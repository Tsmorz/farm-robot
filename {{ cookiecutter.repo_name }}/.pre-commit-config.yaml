ci:
  skip: [pytest]

default_language_version:
  python: python3.12

repos:
# --------------------------------------------------------
#  Basic hygiene checks (whitespace, yaml, shebangs, etc.)
# --------------------------------------------------------
- repo: https://github.com/pre-commit/pre-commit-hooks
  rev: v6.0.0
  hooks:
    - id: trailing-whitespace
      args: [--markdown-linebreak-ext=md]
    - id: end-of-file-fixer
    - id: check-yaml
    - id: debug-statements
    - id: name-tests-test
    - id: requirements-txt-fixer

# --------------------------------------------------------
#  Delegate formatting + linting to your Makefile
# --------------------------------------------------------
- repo: local
  hooks:
    - id: make-format
      name: Run format (ruff format + ruff lint)
      entry: make format
      language: system
      types: [python]

# --------------------------------------------------------
#  Optional: run tests before commit
#  (Often skipped in CI & enabled manually because slow)
# --------------------------------------------------------
- repo: local
  hooks:
    - id: make-test
      name: Run pytest suite
      entry: make test
      language: system
      types: [python]
